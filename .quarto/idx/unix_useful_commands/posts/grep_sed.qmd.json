{"title":"grep and sed","markdown":{"yaml":{"title":"grep and sed","description":"Search and replace","author":"Karen C. Goncalves dos Santos","callout-appearance":"simple","date":"10 February 2023","categories":["Unix basics","Commands","Text"],"format":"html"},"headingText":"Search for word in text file : `grep`","containsRefs":false,"markdown":"\n\n\n\nSearches a text in a file\n\n- `grep \"word\" file1`: will print to the screen every line of file 1 that contains \"word\" in it.\n\nIf you want to search for many words starting/ending with the same characters, or containing the same characters, you can use search patterns, also known as regular expressions, by adding the option `-e` to grep:\n\n- `grep -e \"^\\w+\\t\" file1`: grep will search in file the regular expression in quotes, that means \"something at the beginning of a line containing letters, numbers or _ followed by tab:\n  - `^` at the start of the line\n  - `\\w+` any letter, number or _ (underline)\n  - `\\t` tab (appears as white space)\n  \n[Check here fore more information on REGular EXpressions (Regex)](https://cheatography.com/davechild/cheat-sheets/regular-expressions/)\n\n## `sed 's///'`\n\nYou can use SED for many things, but it is very powerful for replacing text, either specific words or Regex, or even using variables. \n\nThe command is given inside quotes (single or double) and is split into three parts with the `/`:\n\n- `'s'` - what we want to do: substitute\n- The word or search pattern we are looking for (goes between the first and second `/`)\n- What we want to replace the search pattern with (goes between the second and third`/`)\n- The end of the command (part after the third slash) may be empty or may include another instruction to sed. `g` means: search (and replace) it everywhere.\n\nNote that sed considers each line of a file separately. \n\nLet's say we want to work with a DNA sequence and we want to replace the bases:\n\n![](https://i.stack.imgur.com/22N5fm.jpg)\n\n- If I want to replace `AA` with `NN`: `sed 's/AA/NN/g'`.\n- If I want to replace `A`s and `T`s with `W`: `sed -e 's/[AT]/W/g'`\n- If I want to put the file name as the sequence name, I can store the file name as a variable and use it in sed: \n\n```\nfilename=my_fasta.fa\nsed -E \"s/>/>$filename /\"\n# Note that when using a variable inside sed, we need to use double quotes\n```\n\n- If I want to replace TATA with TATA 3x (create a repeat in the region): `sed 's/(TATA)/\\1\\1\\1/g'`, where `\\1` is a reference to the first pattern saved (put inside parenthesis)\n\nFor more about `sed`, check [class 6](/unix/Class6_SED/index.html)\n","srcMarkdownNoYaml":"\n\n\n## Search for word in text file : `grep`\n\nSearches a text in a file\n\n- `grep \"word\" file1`: will print to the screen every line of file 1 that contains \"word\" in it.\n\nIf you want to search for many words starting/ending with the same characters, or containing the same characters, you can use search patterns, also known as regular expressions, by adding the option `-e` to grep:\n\n- `grep -e \"^\\w+\\t\" file1`: grep will search in file the regular expression in quotes, that means \"something at the beginning of a line containing letters, numbers or _ followed by tab:\n  - `^` at the start of the line\n  - `\\w+` any letter, number or _ (underline)\n  - `\\t` tab (appears as white space)\n  \n[Check here fore more information on REGular EXpressions (Regex)](https://cheatography.com/davechild/cheat-sheets/regular-expressions/)\n\n## `sed 's///'`\n\nYou can use SED for many things, but it is very powerful for replacing text, either specific words or Regex, or even using variables. \n\nThe command is given inside quotes (single or double) and is split into three parts with the `/`:\n\n- `'s'` - what we want to do: substitute\n- The word or search pattern we are looking for (goes between the first and second `/`)\n- What we want to replace the search pattern with (goes between the second and third`/`)\n- The end of the command (part after the third slash) may be empty or may include another instruction to sed. `g` means: search (and replace) it everywhere.\n\nNote that sed considers each line of a file separately. \n\nLet's say we want to work with a DNA sequence and we want to replace the bases:\n\n![](https://i.stack.imgur.com/22N5fm.jpg)\n\n- If I want to replace `AA` with `NN`: `sed 's/AA/NN/g'`.\n- If I want to replace `A`s and `T`s with `W`: `sed -e 's/[AT]/W/g'`\n- If I want to put the file name as the sequence name, I can store the file name as a variable and use it in sed: \n\n```\nfilename=my_fasta.fa\nsed -E \"s/>/>$filename /\"\n# Note that when using a variable inside sed, we need to use double quotes\n```\n\n- If I want to replace TATA with TATA 3x (create a repeat in the region): `sed 's/(TATA)/\\1\\1\\1/g'`, where `\\1` is a reference to the first pattern saved (put inside parenthesis)\n\nFor more about `sed`, check [class 6](/unix/Class6_SED/index.html)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"grep_sed.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.551","theme":{"light":"flatly","dark":"darkly"},"title":"grep and sed","description":"Search and replace","author":"Karen C. Goncalves dos Santos","callout-appearance":"simple","date":"10 February 2023","categories":["Unix basics","Commands","Text"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}